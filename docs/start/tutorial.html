<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, maximum-scale=1">
  
  <title>GeoGig tutorial &mdash; GeoGig 1.2.0 User Manual</title>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,700italic,800italic,300,700,600,800,400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Cantarell:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="../_static/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../_static/print.css" type="text/css" media="print" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
   <link rel="stylesheet" href="../_static/bootstrap.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/offcanvas.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.2.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
      <link rel="index" title="Index" href="../genindex.html" />
      <link rel="search" title="Search" href="../search.html" />
      <link rel="top" title="GeoGig 1.2.0 User Manual" href="../index.html" />
      <link rel="up" title="Starting out with GeoGig" href="index.html" />
      <link rel="next" title="Working with repositories" href="../repo/index.html" />
      <link rel="prev" title="Runtime configuration" href="runtime.html" />
</head>
<body class="start/tutorial">
    <div id="blacktop"></div>
    <header id="masthead">
      <div class="navbar">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://geogig.org"><h1>GeoGig</h1></a>
          </div>
          <div class="navbar-collapse collapse navbar-right">
            <ul class="nav navbar-nav">
              <li><a href="http://geogig.org/#install">Get Started</a></li>
              <li><a href="http://geogig.org/docs/index.html">Documentation</a></li>
              <li><a href="https://github.com/locationtech/geogig">On Github</a></li>
            </ul>
          </div><!--/.navbar-collapse -->
        </div>
      </div>
    </header>

    <section class="subheading hidden-xs">
      <div class="container">
        <div class="row">
          <div class="col-md-8">
            <p class="byline">A Tool for Geospatial Data Management</p>
          </div>
        </div>
      </div>
    </section>
    <a name="top"></a>

 <div id="main">
    <div class="wrap selfclear">
      <div id="content">
      <div class="container">
        <div class="row row-offcanvas row-offcanvas-right">
          <div class="col-md-8">
            <div class="row pull-right">
             <div class="visible-sm visible-xs" id="menu-btn">
                <button class="btn btn-blue btn-sm"type="button" data-toggle="offcanvas">
                  <span class="btn-text active">Menu &rarr;</span>
                  <span class="btn-back">&larr; Back</span>
                </button>
              </div>
            </div>
<ul id="breadcrumbs">
  
  <li><a href="../index.html">GeoGig 1.2.0 User Manual</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">Starting out with GeoGig</a> &raquo;</li>
  <li>GeoGig tutorial</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../genindex.html" title="General Index"
       accesskey="I">index</a></li>
  <li>
    <a href="../repo/index.html" title="Working with repositories"
       accesskey="N">next</a>|</li>
  <li>
    <a href="runtime.html" title="Runtime configuration"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="geogig-tutorial">
<span id="start-tutorial"></span><h1>GeoGig tutorial<a class="headerlink" href="#geogig-tutorial" title="Permalink to this headline">¶</a></h1>
<p>GeoGig is a Distributed Version Control System (DVCS) for geospatial data.</p>
<p>This document is a short introduction to the main ideas and elements of GeoGig. It describes how to set up and use GeoGig to version spatial data, introducing the following operations:</p>
<ul class="simple">
<li>Importing unversioned spatial data into GeoGig (“import”)</li>
<li>Making changes and storing snapshots (“commit”)</li>
<li>Maintaining independent lines of modifications (“branch”)</li>
<li>Integrating changes from separate branches (“merge”)</li>
<li>Resolving conflicting edits</li>
<li>Synchronizing data across a network (“push” and “pull”)</li>
<li>Marking specific versions of the data (“tag”)</li>
<li>Exporting data from GeoGig to a shapefile</li>
</ul>
<p>This tutorial assumes no prior experience with GeoGig. More details can be found in later sections.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Follow the instructions on the <a class="reference internal" href="installation.html#start-installation"><span class="std std-ref">Installation</span></a> page to install GeoGig.</p>
</div>
<div class="section" id="data">
<h2>Data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h2>
<p>The data used in the following examples was supplied by the City of Raleigh, and is available for download from the <a class="reference external" href="https://data.raleighnc.gov/">City of Raleigh Open Data Portal.</a></p>
<p>For the purposes of this tutorial <a class="reference external" href="https://s3.amazonaws.com/geogig-tutorial-data/geogig_tutorial_data.zip">download the sample data HERE.</a></p>
<p>This zip file contains point locations of parks maintained by the City of Raleigh, named <code class="docutils literal"><span class="pre">Raleigh_Park_Locations</span></code>. Each version of the data has already been slightly modified in order to simulate an example workflow.</p>
<a class="reference internal image-reference" href="../_images/parks_layer.png"><img alt="../_images/parks_layer.png" src="../_images/parks_layer.png" style="width: 681.0px; height: 590.25px;" /></a>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Before we start working with geospatial data in GeoGig, you must provide GeoGig with a name and email, using the <code class="docutils literal"><span class="pre">config</span></code> command, substituting your name and email:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig config --global user.name &quot;Author&quot;</span>
<span class="go">geogig config --global user.email &quot;author@example.com&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="initialization">
<h2>Initialization<a class="headerlink" href="#initialization" title="Permalink to this headline">¶</a></h2>
<p>We must create a new repository. Create a new folder to contain the repository and extract the data zip into that directory. Initialize the GeoGig repository by typing:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig init</span>
</pre></div>
</div>
<p>Now your GeoGig repository is ready to manage and version your geospatial data. Note that a <code class="file docutils literal"><span class="pre">.geogig</span></code> directory was created.</p>
</div>
<div class="section" id="importing-data">
<h2>Importing data<a class="headerlink" href="#importing-data" title="Permalink to this headline">¶</a></h2>
<p>To work with data in GeoGig, it has to first be imported into the repository <strong>working tree</strong>.</p>
<p>We will start by importing the <code class="docutils literal"><span class="pre">Raleigh</span> <span class="pre">Park</span> <span class="pre">Locations</span></code> shapefile using the following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig shp import parks/Raleigh_Park_Locations.shp</span>
</pre></div>
</div>
<p>The response will look like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Importing from shapefile parks/Raleigh_Park_Locations.shp</span>
<span class="go">0%</span>
<span class="go">Importing Raleigh_Park_... (1/1)...</span>
<span class="go">0%</span>
<span class="go">113 features inserted in 57.11 ms</span>

<span class="go">Building final tree Raleigh_Park_Locations...</span>

<span class="go">113 features tree built in 3.450 ms</span>
<span class="go">100%</span>
<span class="go">parks/Raleigh_Park_Locations.shp imported successfully.</span>
</pre></div>
</div>
<p>The data from the shapefile is now in the working tree, but it is not yet versioned. However, the data is now in a format that GeoGig can understand, such that it may be aware of any changes to the data you might introduce.</p>
<p>Run the following command to verify that your data is in the working tree.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig ls -r</span>
</pre></div>
</div>
<p>The response will look like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Root tree/</span>
<span class="go">        9</span>
<span class="go">        7</span>
<span class="go">        8</span>
<span class="go">        ...</span>
<span class="go">        11</span>
<span class="go">        12</span>
</pre></div>
</div>
<p>Features from the shapefile are added to the working tree under a tree named <code class="docutils literal"><span class="pre">Root</span> <span class="pre">tree</span></code>. A <strong>tree</strong> in a GeoGig repository is analogous to a directory in a filesystem. Features are named as numbers, reflecting the order in which they are found in the source data. It is not necessarily the same order in which they are listed by the <code class="docutils literal"><span class="pre">ls</span></code> command.</p>
<p>Running the <code class="docutils literal"><span class="pre">status</span></code> command will give you information about the data you have that is not already versioned.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig status</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> On branch master
<span class="gp">#</span> Changes not staged <span class="k">for</span> commit:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;geogig add &lt;path/to/fid&gt;...&quot;</span> to update what will be committed
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;geogig checkout -- &lt;path/to/fid&gt;...&quot;</span> to discard changes in working directory
<span class="gp">#</span>
<span class="gp">#</span>      added  Raleigh_Park_Locations
<span class="gp">#</span>      added  Raleigh_Park_Locations/9
<span class="gp">#</span>      added  Raleigh_Park_Locations/7
<span class="gp">#</span>      added  Raleigh_Park_Locations/8
<span class="go">...</span>
<span class="gp">#</span>      added  Raleigh_Park_Locations/75
<span class="gp">#</span>      added  Raleigh_Park_Locations/70
<span class="gp">#</span> <span class="m">114</span> total.
</pre></div>
</div>
</div>
<div class="section" id="adding-data">
<h2>Adding data<a class="headerlink" href="#adding-data" title="Permalink to this headline">¶</a></h2>
<p>To tell GeoGig that you want to version data in the working tree, you have to add it to the <strong>staging area</strong>. Do this by running the following command.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig add</span>
</pre></div>
</div>
<p>The response will look like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Counting unstaged elements...114</span>
<span class="go">Staging changes...</span>
<span class="go">100%</span>
<span class="go">113 features and 1 trees staged for commit</span>
<span class="go">0 features and 0 trees not staged for commit</span>
</pre></div>
</div>
<p>Now your data is ready to be used to create a snapshot (a <strong>commit</strong> in GeoGig terminology).</p>
<p>If you run the <code class="docutils literal"><span class="pre">status</span></code> command again, you will see a different output, since your data has now been added and is ready to be versioned.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig status</span>
</pre></div>
</div>
<p>The response will look like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> On branch master
<span class="gp">#</span> Changes to be committed:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;geogig reset HEAD &lt;path/to/fid&gt;...&quot;</span> to unstage<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>      added  Raleigh_Park_Locations
<span class="gp">#</span>      added  Raleigh_Park_Locations/9
<span class="gp">#</span>      added  Raleigh_Park_Locations/7
<span class="gp">#</span>      added  Raleigh_Park_Locations/8
<span class="go">...</span>
<span class="gp">#</span>      added  Raleigh_Park_Locations/75
<span class="gp">#</span>      added  Raleigh_Park_Locations/70
<span class="gp">#</span> <span class="m">114</span> total.
</pre></div>
</div>
<p>The staging area is the last area before the data gets versioned in the repository database.</p>
</div>
<div class="section" id="committing">
<h2>Committing<a class="headerlink" href="#committing" title="Permalink to this headline">¶</a></h2>
<p>Committing means to create a new version of the data which is in the staging area.</p>
<p>Type the following command.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig commit -m &quot;first version&quot;</span>
</pre></div>
</div>
<p>The response will look like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">100%</span>
<span class="go">[11b7058f4b8aaca98036f24c127e929281a01cce] first version</span>
<span class="go">Committed, counting objects...113 features added, 0 changed, 0 deleted.</span>
</pre></div>
</div>
<p>The text between quotes after the <code class="docutils literal"><span class="pre">-m</span></code> option is the commit message, which should describe the snapshot in a human-readable format.</p>
</div>
<div class="section" id="making-edits">
<h2>Making edits<a class="headerlink" href="#making-edits" title="Permalink to this headline">¶</a></h2>
<p>We will now simulate making an edit to our parks layer. The <code class="file docutils literal"><span class="pre">parks_plus_1feature/Raleigh_Park_Locations.shp</span></code> file contains the same data as the original parks file, but with an added feature. Import this file.</p>
<p>To do this, follow the same procedure as before: import data, add, and then commit.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig shp import parks_plus_1feature/Raleigh_Park_Locations.shp</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All editing of data must be done externally to GeoGig. If you prefer to make your own edits, you can do so using <a class="reference external" href="http://www.qgis.org/en/site/">QGIS</a> or any other GIS software you prefer.</p>
</div>
<p>If you run the <code class="docutils literal"><span class="pre">status</span></code> command after importing (and before adding), you will see elements which are not yet staged for commits. GeoGig will only report modifications to features that have been changed.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig status</span>
</pre></div>
</div>
<p>The response will look like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> On branch master
<span class="gp">#</span> Changes not staged <span class="k">for</span> commit:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;geogig add &lt;path/to/fid&gt;...&quot;</span> to update what will be committed
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;geogig checkout -- &lt;path/to/fid&gt;...&quot;</span> to discard changes in working directory
<span class="gp">#</span>
<span class="gp">#</span>      modified  Raleigh_Park_Locations
<span class="gp">#</span>      added  Raleigh_Park_Locations/114
<span class="gp">#</span> <span class="m">2</span> total.
</pre></div>
</div>
<p>Now add the new features:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig add</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Counting unstaged elements...2</span>
<span class="go">Staging changes...</span>
<span class="go">100%</span>
<span class="go">1 features and 1 trees staged for commit</span>
<span class="go">0 features and 0 trees not staged for commit</span>
</pre></div>
</div>
<p>Then commit to create a new version:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig commit -m &quot;first modification&quot;</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">100%</span>
<span class="go">[bcafa36c5d6107e6bb95ba8a93fef48800762771] first modification</span>
<span class="go">Committed, counting objects...1 features added, 0 changed, 0 deleted.</span>
</pre></div>
</div>
</div>
<div class="section" id="viewing-repository-history">
<h2>Viewing repository history<a class="headerlink" href="#viewing-repository-history" title="Permalink to this headline">¶</a></h2>
<p>You can use the <code class="docutils literal"><span class="pre">log</span></code> command to see the history of your repository. The history consists of the listing of commits, ordered in reverse chronological order (most recent first).</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig log</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Commit:  bcafa36c5d6107e6bb95ba8a93fef48800762771</span>
<span class="go">Author:  Author &lt;author@example.com&gt;</span>
<span class="go">Date:    (2 minutes ago) 2016-12-17 11:40:04 -0800</span>
<span class="go">Subject: first modification</span>

<span class="go">Commit:  11b7058f4b8aaca98036f24c127e929281a01cce</span>
<span class="go">Author:  Author &lt;author@example.com&gt;</span>
<span class="go">Date:    (13 minutes ago) 2016-12-17 11:28:57 -0800</span>
<span class="go">Subject: first version</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-a-branch">
<h2>Creating a branch<a class="headerlink" href="#creating-a-branch" title="Permalink to this headline">¶</a></h2>
<p>Data editing can be done on multiple history lines of the repository, so one line can be kept clean and stable while edits are performed on another line. These lines are known as <strong>branches</strong>. You can merge commits from one branch to another branch at any time.</p>
<p>To create a new branch named “myedits”, run the following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig branch myedits -c</span>
</pre></div>
</div>
<p>The response will look like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Created branch refs/heads/myedits</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">-c</span></code> option tells GeoGig to not only create the branch, but also, to switch to that branch. Everything done will now be added to this new history line.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The default branch is named <code class="docutils literal"><span class="pre">master</span></code>.</p>
</div>
<p>Now use the <code class="file docutils literal"><span class="pre">parks_plus_2features/Raleigh_Park_Locations.shp</span></code> file. Once again - import, add, and then commit. This shapefile contains the same data as the last version, with yet another feature added on.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig shp import parks_plus_2features/Raleigh_Park_Locations.shp</span>
<span class="go">geogig add</span>
<span class="go">geogig commit -m &quot;added new feature&quot;</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">log</span></code> command will show a history like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Commit:  1466c1c75d51282093b9d85e96b14e9898b74d2f</span>
<span class="go">Author:  Author &lt;author@example.com&gt;</span>
<span class="go">Date:    (40 seconds ago) 2016-12-17 11:45:02 -0800</span>
<span class="go">Subject: added a new feature</span>

<span class="go">Commit:  bcafa36c5d6107e6bb95ba8a93fef48800762771</span>
<span class="go">Author:  Author &lt;author@example.com&gt;</span>
<span class="go">Date:    (5 minutes ago) 2016-12-17 11:40:04 -0800</span>
<span class="go">Subject: first modification</span>

<span class="go">Commit:  11b7058f4b8aaca98036f24c127e929281a01cce</span>
<span class="go">Author:  Author &lt;author@example.com&gt;</span>
<span class="go">Date:    (16 minutes ago) 2016-12-17 11:28:57 -0800</span>
<span class="go">Subject: first version</span>
</pre></div>
</div>
</div>
<div class="section" id="merging-commits-from-a-branch">
<h2>Merging commits from a branch<a class="headerlink" href="#merging-commits-from-a-branch" title="Permalink to this headline">¶</a></h2>
<p>Our repository now has two branches: the one we just created (<code class="docutils literal"><span class="pre">myedits</span></code>) and the default branch (<code class="docutils literal"><span class="pre">master</span></code>). To see all the branches within a given repository, execute the <code class="docutils literal"><span class="pre">geogig</span> <span class="pre">branch</span></code> command.</p>
<p>Let’s merge the changes we have just added from the <code class="docutils literal"><span class="pre">myedits</span></code> branch into the <code class="docutils literal"><span class="pre">master</span></code> branch.</p>
<p>First <strong>switch to the branch to which you would like to apply the changes</strong>, in this case it is <code class="docutils literal"><span class="pre">master</span></code>. Execute the <code class="docutils literal"><span class="pre">geogig</span> <span class="pre">checkout</span> <span class="pre">master</span></code> command to switch to the <code class="docutils literal"><span class="pre">master</span></code> branch.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig checkout master</span>
</pre></div>
</div>
<p>The response will look like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Switched to branch &#39;master&#39;</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">log</span></code> command will show the following history. Use the <code class="docutils literal"><span class="pre">--oneline</span></code> option to compact the output:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig log --oneline</span>
</pre></div>
</div>
<p>The response will look like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">bcafa36c5d6107e6bb95ba8a93fef48800762771 first modification</span>
<span class="go">11b7058f4b8aaca98036f24c127e929281a01cce first version</span>
</pre></div>
</div>
<p>Notice that the most recent commit (with the message “added new feature”) is missing. This is because it was added to the <code class="docutils literal"><span class="pre">myedits</span></code> branch, not the <code class="docutils literal"><span class="pre">master</span></code> branch (the branch we are currently on).</p>
<p>To merge the work done in the <code class="docutils literal"><span class="pre">myedits</span></code> branch into the current <code class="docutils literal"><span class="pre">master</span></code> branch, enter the following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig merge myedits</span>
</pre></div>
</div>
<p>The response will look like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Checking for possible conflicts...</span>
<span class="go">1%</span>
<span class="go">Merging commit 71217cac78d501e0dc120c596bb01a01a0a737d7</span>

<span class="go">Conflicts: 0, merged: 0, unconflicted: 2</span>
<span class="go">0%</span>
<span class="go">[71217cac78d501e0dc120c596bb01a01a0a737d7] added new feature</span>
<span class="go">Committed, counting objects...1 features added, 0 changed, 0 deleted.</span>
</pre></div>
</div>
<p>Now we can see that the latest commit introduced into the <code class="docutils literal"><span class="pre">myedits</span></code> branch is also present in <code class="docutils literal"><span class="pre">master</span></code>.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig log --oneline</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">1466c1c75d51282093b9d85e96b14e9898b74d2f added a new feature</span>
<span class="go">bcafa36c5d6107e6bb95ba8a93fef48800762771 first modification</span>
<span class="go">11b7058f4b8aaca98036f24c127e929281a01cce first version</span>
</pre></div>
</div>
</div>
<div class="section" id="handling-merge-conflicts">
<h2>Handling merge conflicts<a class="headerlink" href="#handling-merge-conflicts" title="Permalink to this headline">¶</a></h2>
<p>We just saw that the work done on one branch could be merged automatically to another branch without problems. This is not always possible, in which case it needs to be done manually.</p>
<p>To see this in action, create a new branch named <code class="docutils literal"><span class="pre">conflict_res</span></code>, and create a commit based on the <code class="docutils literal"><span class="pre">parks_1st_change/Raleigh_Park_Locations.shp</span></code> shapefile.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig branch conflict_res -c</span>
<span class="go">geogig shp import parks_1st_change/Raleigh_Park_Locations.shp</span>
<span class="go">geogig add</span>
<span class="go">geogig commit -m &quot;edits on the conflict_res branch&quot;</span>
</pre></div>
</div>
<p>This is the same data as <code class="docutils literal"><span class="pre">parks_plus_2features/Raleigh_Park_Locations.shp</span></code>, however the new shapefile changes the name for ‘Walnut Terrace Park’ to ‘Walnut Terrace Field’.</p>
<p>Now go back to the <code class="docutils literal"><span class="pre">master</span></code> branch and create a new commit with the data in <code class="docutils literal"><span class="pre">parks_2nd_change/Raleigh_Park_Locations.shp</span></code>.</p>
<p>This is the same data as <code class="docutils literal"><span class="pre">parks_plus_2features/Raleigh_Park_Locations.shp</span></code>, however the new shapefile changes the name for ‘Walnut Terrace Park’ to ‘Walnut Terrace Grove’.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig checkout master</span>
<span class="go">geogig shp import parks_2nd_change/Raleigh_Park_Locations.shp</span>
<span class="go">geogig add</span>
<span class="go">geogig commit -m &quot;edits on the master branch&quot;</span>
</pre></div>
</div>
<p>This is a conflict situation, as the same data has been changed in two different manners in the two branches. If you try to merge the <code class="docutils literal"><span class="pre">fix</span></code> branch into <code class="docutils literal"><span class="pre">master</span></code>, GeoGig cannot automatically resolve this situation and will fail.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig merge conflict_res</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Checking for possible conflicts...</span>
<span class="go">1%</span>
<span class="go">Possible conflicts. Creating intermediate merge status...</span>
<span class="go">0%</span>

<span class="go">Saving 1 conflicts...</span>
<span class="go">CONFLICT: Merge conflict in Raleigh_Park_Locations/1</span>
<span class="go">Automatic merge failed. Fix conflicts and then commit the result.</span>
</pre></div>
</div>
<p>You can see that there is a conflict by running the <code class="docutils literal"><span class="pre">status</span></code> command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig status</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">#</span> On branch master
<span class="gp">#</span>
<span class="gp">#</span> Unmerged paths:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;geogig add/rm &lt;path/to/fid&gt;...&quot;</span> as appropriate to mark resolution
<span class="gp">#</span>
<span class="gp">#</span>      unmerged  Raleigh_Park_Locations/1
<span class="gp">#</span> <span class="m">1</span> total.
</pre></div>
</div>
<p>An <strong>unmerged path</strong> represents a element with a conflict.</p>
<p>You can get more details about the conflict by running the <code class="docutils literal"><span class="pre">conflicts</span></code> command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig conflicts --diff</span>
</pre></div>
</div>
<p>The response will look like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">---Raleigh_Park_Locations/1---</span>
<span class="go">Ours</span>
<span class="go">NAME: Walnut Terrace Park -&gt; Walnut Terrace Grove</span>

<span class="go">Theirs</span>
<span class="go">NAME: Walnut Terrace Park -&gt; Walnut Terrace Field</span>
</pre></div>
</div>
<p>The output indicates that the value in the <code class="docutils literal"><span class="pre">NAME</span></code> attribute of the <code class="docutils literal"><span class="pre">Raleigh_Park_Locations/1</span></code> feature is causing the conflict.</p>
<p>The conflict has to be solved manually. You will have to merge both versions yourself, or just select one of the versions to be used.</p>
<p>Assume we want to use the changed feature in the <code class="docutils literal"><span class="pre">conflict_res</span></code> branch. Since we are in the <code class="docutils literal"><span class="pre">master</span></code> branch, the <code class="docutils literal"><span class="pre">conflict_res</span></code> branch is considered “theirs.” Run the following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig checkout -p Raleigh_Park_Locations/1 --theirs</span>
</pre></div>
</div>
<p>The response will look like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Objects in the working tree were updated to the specified version.</span>
</pre></div>
</div>
<p>That puts the <code class="docutils literal"><span class="pre">conflict_res</span></code> branch version in the working tree, overwriting what was there. This removes the conflict.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig add</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Counting unstaged elements...2</span>
<span class="go">Staging changes...</span>
<span class="go">50%</span>
<span class="go">Building final tree Raleigh_Park_Locations</span>

<span class="go">Removing 1 merged conflicts...</span>

<span class="go">Done. 0 unmerged conflicts.</span>
<span class="go">100%</span>
<span class="go">1 features and 1 trees staged for commit</span>
<span class="go">0 features and 0 trees not staged for commit</span>
</pre></div>
</div>
<p>Now that the conflict has been resolved, you may commit the change. There is no need to add a commit message, since that is created automatically during a merge operation.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig commit</span>
</pre></div>
</div>
</div>
<div class="section" id="tagging-a-version">
<h2>Tagging a version<a class="headerlink" href="#tagging-a-version" title="Permalink to this headline">¶</a></h2>
<p>You can add a “tag” to a version to easily identify a snapshot with something more descriptive than the identifier associated with each commit.</p>
<p>To do so, use the <code class="docutils literal"><span class="pre">tag</span></code> command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig tag my_tag_name -m &quot;First official version&quot;</span>
</pre></div>
</div>
<p>Now you can refer to a specific version of the data with a name.</p>
</div>
<div class="section" id="exporting-from-a-geogig-repository">
<h2>Exporting from a GeoGig repository<a class="headerlink" href="#exporting-from-a-geogig-repository" title="Permalink to this headline">¶</a></h2>
<p>Data can be exported from a GeoGig repository into several formats, ready to be used by external applications.</p>
<p>To export a given tree to a shapefile, use the <code class="docutils literal"><span class="pre">shp</span> <span class="pre">export</span></code> command.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig shp export Raleigh_Park_Locations my_parks.shp</span>
</pre></div>
</div>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Exporting from Raleigh_Park_Locations to my_parks...</span>
<span class="go">100%</span>
<span class="go">Raleigh_Park_Locations exported successfully to my_parks.shp</span>
</pre></div>
</div>
<p>This will create a file named <code class="docutils literal"><span class="pre">my_parks.shp</span></code> in the current directory that contains the current state of the repository.</p>
<p>Past versions of the data can also be exported by prefixing the tree name with a commit ID and a colon, as in the following example:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig shp export 6bcd72b1a536aa6ec9a773a353f3e4e6f2ffa973:Raleigh_Park_Locations my_older_parks.shp</span>
</pre></div>
</div>
<p>Use “HEAD” notation to export changes relative to the current working revision. For example, <code class="docutils literal"><span class="pre">HEAD~1</span></code> refers to the second-most recent commit, <code class="docutils literal"><span class="pre">HEAD~2</span></code> refers to the commit prior to that, etc.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig shp export HEAD~1:Raleigh_Park_Locations 2nd_last_version_parks.shp</span>
</pre></div>
</div>
</div>
<div class="section" id="synchronizing-repositories">
<h2>Synchronizing repositories<a class="headerlink" href="#synchronizing-repositories" title="Permalink to this headline">¶</a></h2>
<p>A GeoGig repository can interact with other GeoGig repositories that are working with the same data. Other GeoGig repositories are known as <strong>remotes</strong>.</p>
<p>In our situation, we created a new repository from scratch using the <code class="docutils literal"><span class="pre">init</span></code> command. But if we wanted to start with a copy of an existing repository (referred to as the <code class="docutils literal"><span class="pre">origin</span></code>), use the <code class="docutils literal"><span class="pre">clone</span></code> command.</p>
<p>Let’s clone the repository we have been working on. Create a new directory in your file system, move into it and run the following commands (replace ‘YOUR_FIRST_REPO’ with the actual name of the first directory created)</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">mkdir ../my_new_repo</span>
<span class="go">cd ../my_new_repo</span>
<span class="go">geogig clone ../YOUR_FIRST_REPO</span>
</pre></div>
</div>
<p>The response will look like this:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">Cloning into &#39;geogig_tutorial&#39;...</span>

<span class="go">Fetching objects from refs/heads/conflict_res</span>
<span class="go">1%</span>
<span class="go">Fetching objects from refs/heads/master</span>

<span class="go">Fetching objects from refs/heads/myedits</span>

<span class="go">Fetching objects from refs/tags/my_tag_name</span>
<span class="go">100%</span>
<span class="go">Done.</span>
</pre></div>
</div>
<p>With the repository cloned, you can work here as you would normally and the changes will be placed on top of the changes that already exist from the original repository.</p>
<p>You can merge commits from the <code class="docutils literal"><span class="pre">origin</span></code> repository to this new repository by using the <code class="docutils literal"><span class="pre">pull</span></code> command. This will update the current branch with changes that have been made on that branch in the remote repository since the last time both repositories were synchronized.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig pull origin</span>
</pre></div>
</div>
<p>To move your local changes from your repository into <code class="docutils literal"><span class="pre">origin</span></code>, use the <code class="docutils literal"><span class="pre">push</span></code> command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">geogig push origin</span>
</pre></div>
</div>
</div>
<div class="section" id="tutorial-complete">
<h2>Tutorial complete<a class="headerlink" href="#tutorial-complete" title="Permalink to this headline">¶</a></h2>
<p>Congratulations! You now know the basics of managing data with GeoGig.</p>
<p>Check out the rest of the GeoGig manual in order to learn more!</p>
</div>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="runtime.html" title="previous chapter">Runtime configuration</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="../repo/index.html" title="next chapter">Working with repositories</a></div>
      </div>
      <p class="centered-text"><a href="#top"><img src="../_static/arrow_up.png" alt="back to top"/></a></p>
      </div><!-- /#content> -->
  <div id="sidebar" class="sidebar-offcanvas contrast col-sm-4 sidebar-offcanvas" id="sidebar" role="navigation">

    <div>
         <form id="quick-search" action="search.html" method="get" style="width: 100%;">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
          </fieldset>
        </form>


        <div class="btn-group-vertical" id="docs_toc">
          <a class="btn btn-default" href="/docs/">User Manual</a>
          <a class="btn btn-default" href="/technical/">Technical Manual</a>
          <a class="btn btn-default" href="/manpages/">Man Pages</a>
          <a class="btn btn-default" href="/workshop/">Workshop</a>
          <a class="btn btn-default" href="/upgrade/">Upgrading</a>
      </div>
      <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">GeoGig tutorial</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#data">Data</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#initialization">Initialization</a></li>
<li><a class="reference internal" href="#importing-data">Importing data</a></li>
<li><a class="reference internal" href="#adding-data">Adding data</a></li>
<li><a class="reference internal" href="#committing">Committing</a></li>
<li><a class="reference internal" href="#making-edits">Making edits</a></li>
<li><a class="reference internal" href="#viewing-repository-history">Viewing repository history</a></li>
<li><a class="reference internal" href="#creating-a-branch">Creating a branch</a></li>
<li><a class="reference internal" href="#merging-commits-from-a-branch">Merging commits from a branch</a></li>
<li><a class="reference internal" href="#handling-merge-conflicts">Handling merge conflicts</a></li>
<li><a class="reference internal" href="#tagging-a-version">Tagging a version</a></li>
<li><a class="reference internal" href="#exporting-from-a-geogig-repository">Exporting from a GeoGig repository</a></li>
<li><a class="reference internal" href="#synchronizing-repositories">Synchronizing repositories</a></li>
<li><a class="reference internal" href="#tutorial-complete">Tutorial complete</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section continue_reading">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="runtime.html" title="previous chapter">Runtime configuration</a></li>
            <li>Next: <a href="../repo/index.html" title="next chapter">Working with repositories</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="../_sources/start/tutorial.rst.txt">Show Source</a></li>
        </ul>
        </div>
        <div class="section">
          <h3>License</h3>
          <p>GeoGig is published using the <a href="https://github.com/locationtech/geogig/blob/master/LICENSE.txt">Eclipse Distribution License</a> (EDL). This is an open source initiative approved BSD-3 Clause license.</p>
          
          <p>This documentation is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. Page template includes work by the JQuery Foundation (<a href="https://github.com/jquery/jquery/blob/master/LICENSE.txt">MIT License</a>).</p>
        </div>

  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div>
</div>

</div><!-- /#main -->
    <footer>
      <div class="container">
        <div class="row">
          <div class=""><p class="repo-owner"><a href="https://github.com/locationtech/geogig">GeoGig</a> available on LocationTech. Website maintained by <a href="https://github.com/boundlessgeo"><img src="../_static/Boundless_Logo.png" alt="Boundless"></a></p></div>
        </div>
      </div>
    </footer>


  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/jquery-migrate-min.js"></script>
  <script type="text/javascript" src="../_static/bootstrap.min.js" ></script>
  <script type="text/javascript" src="../_static/underscore.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/searchtools.js"></script>
  <script type="text/javascript" src="../searchindex.js"></script>
  <script>
      $(document).ready(function() {

      $('[data-toggle=offcanvas]').click(function(e) {
        e.stopPropagation();
        $('.row-offcanvas').toggleClass('active');
        $('.btn-back').toggleClass('active');
        $('.btn-text').toggleClass('active');
      });
      $('.list-group-item').click(function(e) {
        e.stopPropagation();
        $('.row-offcanvas').toggleClass('active');
        $('.btn-back').toggleClass('active');
        $('.btn-text').toggleClass('active');
      });
    });
  </script>
  <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-3879903-19']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
  </script>
  </body>
</html>
