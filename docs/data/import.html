<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, maximum-scale=1">
  
  <title>Import data &mdash; GeoGig 1.1.1-RC3 User Manual</title>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,700italic,800italic,300,700,600,800,400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Cantarell:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="../_static/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="../_static/print.css" type="text/css" media="print" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
   <link rel="stylesheet" href="../_static/bootstrap.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/offcanvas.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.1.1-RC3',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
      <link rel="index" title="Index" href="../genindex.html" />
      <link rel="search" title="Search" href="../search.html" />
      <link rel="top" title="GeoGig 1.1.1-RC3 User Manual" href="../index.html" />
      <link rel="up" title="Data and commits" href="index.html" />
      <link rel="next" title="Creating and applying patches" href="patches.html" />
      <link rel="prev" title="Exploring your history" href="history.html" />
</head>
<body class="data/import">
    <div id="blacktop"></div>
    <header id="masthead">
      <div class="navbar">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://geogig.org"><h1>GeoGig</h1></a>
          </div>
          <div class="navbar-collapse collapse navbar-right">
            <ul class="nav navbar-nav">
              <li><a href="http://geogig.org/#install">Get Started</a></li>
              <li><a href="http://geogig.org/docs/index.html">Documentation</a></li>
              <li><a href="https://github.com/locationtech/geogig">On Github</a></li>
            </ul>
          </div><!--/.navbar-collapse -->
        </div>
      </div>
    </header>

    <section class="subheading hidden-xs">
      <div class="container">
        <div class="row">
          <div class="col-md-8">
            <p class="byline">A Tool for Geospatial Data Management</p>
          </div>
        </div>
      </div>
    </section>
    <a name="top"></a>

 <div id="main">
    <div class="wrap selfclear">
      <div id="content">
      <div class="container">
        <div class="row row-offcanvas row-offcanvas-right">
          <div class="col-md-8">
            <div class="row pull-right">
             <div class="visible-sm visible-xs" id="menu-btn">
                <button class="btn btn-blue btn-sm"type="button" data-toggle="offcanvas">
                  <span class="btn-text active">Menu &rarr;</span>
                  <span class="btn-back">&larr; Back</span>
                </button>
              </div>
            </div>
<ul id="breadcrumbs">
  
  <li><a href="../index.html">GeoGig 1.1.1-RC3 User Manual</a> &raquo;</li>
  <li><a href="index.html" accesskey="U">Data and commits</a> &raquo;</li>
  <li>Import data</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="../genindex.html" title="General Index"
       accesskey="I">index</a></li>
  <li>
    <a href="patches.html" title="Creating and applying patches"
       accesskey="N">next</a>|</li>
  <li>
    <a href="history.html" title="Exploring your history"
       accesskey="P">previous</a>|</li>
</ul>
        
  <div class="section" id="import-data">
<span id="import"></span><h1>Import data<a class="headerlink" href="#import-data" title="Permalink to this headline">¶</a></h1>
<p>The first step to add data to a GeoGig repository, so it can be versioned, is to import it from a file or database. Data stored in a file or a database cannot be versioned by GeoGig, so it has to be converted to the native GeoGig format and imported into the working tree. From there, we can start working with it and follow the typical workflow of editing, updating, and sharing whatever changes we make to that data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As we already mentioned, the working tree of GeoGig is not the filesystem. That means that, to make data available to GeoGig so it can be added to the index and committed, you cannot just copy the file to be versioned into a repository folder or create it there. It’s necessary to import your data into the working tree, so it gets stored in the native format used by GeoGig. This adds an extra step if compared to VCSs oriented to work with source code files, but allows GeoGig to have a more powerful handling of spatial data.</p>
</div>
<p>Importing data into the working tree of a GeoGig repository is done using GeoGig commands which read a given data source and add all or part of its content to the repository. Data can also be exported from the repository into common formats that can be then used in other applications such as a desktop GIS. This built-in import/export process provides the necessary workflow for a GeoGig repository and makes it independent of the tools used to actually edit the data.</p>
<p>Currently, data can be imported/exported from/to GeoJSON, shapefiles, PostGIS, Oracle Spatial and Geopackage databases. Depending on the type of data source, a different command should be used. For the supported data sources, the general syntax is as follows.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ geogig &lt;shp|geojson|geopkg|sl|oracle&gt; &lt;import|export&gt; &lt;specific_parameters&gt;
</pre></div>
</div>
<p>In the case     of importing data, the following syntax is used.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ geogig &lt;shp|geojson|pg|sl|oracle&gt; import &lt;source&gt;[-d &lt;destination_path&gt;] [--no-overwrite] &lt;specific_parameters&gt;
</pre></div>
</div>
<p>Data can be imported into a given path defined using the <code class="docutils literal"><span class="pre">-d</span></code> option. If it is not used, the destination path will be defined automatically based on the data source. For instance, in the case of using a shapefile, the destination path is defined using the name of the shapefile.</p>
<p>The <code class="docutils literal"><span class="pre">source</span></code> argument is the filepath of the file to import, in the case of shapefiles. When importing from a PostGIS database, use the name of the table.</p>
<p>The following command line will import all the features in a shapefile named <code class="docutils literal"><span class="pre">parks.shp</span></code> into the <code class="docutils literal"><span class="pre">parks</span></code> tree in the working tree of the GeoGig repository.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ geogig shp import /home/shapefiles/parks.shp
</pre></div>
</div>
<p>To import into a tree named “myparks”, the following command would be used.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ geogig shp import /home/shapefiles/parks.shp -d myparks
</pre></div>
</div>
<p>A tree in the GeoGig working tree is the equivalent of a folder in the filesystem. However, if you move into the <code class="docutils literal"><span class="pre">.geogig</span></code> folder where the working tree (and the rest of the GeoGig repository data) is stored, you will not see the folders that you might have created by importing data. The structure of the repository is not visible in the filesystem. The only way to explore it is to use additional GeoGig commands that are covered in this documentation.</p>
<p>When importing from a database, additional parameters can be supplied to configure the database connection. In the case of importing from a PostGIS database, the following options are available.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">--host</span></code>: Machine name or IP address to connect to. Default: localhost</li>
<li><code class="docutils literal"><span class="pre">--port</span></code>: Port number to connect to.  Default: 5432</li>
<li><code class="docutils literal"><span class="pre">--schema</span></code>: The database schema to access.  Default: public</li>
<li><code class="docutils literal"><span class="pre">--database</span></code>: The database to connect to.  Default: database</li>
<li><code class="docutils literal"><span class="pre">--user</span></code>: User name.  Default: postgres</li>
<li><code class="docutils literal"><span class="pre">--password</span></code>: Password.  Default: &lt;no password&gt;</li>
</ul>
<p>If using a Geopackage database, only the following parameters are used.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">--database</span></code>: The database to connect to.  Default: database.sqlite</li>
<li><code class="docutils literal"><span class="pre">--user</span></code>: User name.  Default: user</li>
</ul>
<p>When importing from a database, all tables can be imported with a single command. To do so, do not specify the name of a table as the data source, use the <code class="docutils literal"><span class="pre">--all</span></code> option instead, as in the following example.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ geogig pg import --all
</pre></div>
</div>
<p>If a destination path is supplied and the <code class="docutils literal"><span class="pre">--all</span></code> option used, all tables will be imported into the same path.</p>
<p>A listing of all available tables for a given database connection can be obtained using the <code class="docutils literal"><span class="pre">list</span></code> command.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ geogig pg list
</pre></div>
</div>
<p>Since our repository had just been initialized, it was completely empty, and there is no way that the data we have imported can conflict with data that already existed in the repository. However, importing new data (or a different version of that same data) later can cause conflicts and it might require a different approach than the use of the plain import command as we have done now. We will deal with these cases elsewhere in the documentation. For general use, it is enough to know that our repository contains some spatial data in its working tree.</p>
<p>Once the data is imported in the working tree, GeoGig can use it. The original file or database from which you imported the data remains something that GeoGig cannot manage, so it is of no use to GeoGig. There is no link between your repository and the original file or database, so you can remove that original item from your system and it would have no effect at all on GeoGig, which will work exclusively with the copy of the data that is now in the repository working tree.</p>
<p>To see that the data is actually in the working tree, you can use the <code class="docutils literal"><span class="pre">status</span></code> command. This command gives you information about the data that you have in the working tree and the index, comparing between them and also with the repository database. This way, you can see which data has been modified but not added to the repository and which data has been added but has not yet been versioned.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ geogig status
# On branch master
# Changes not staged for commit:
#   (use &quot;geogig add &lt;path/to/fid&gt;...&quot; to update what will be committed
#   (use &quot;geogig checkout -- &lt;path/to/fid&gt;...&quot; to discard changes in working directory
#
#      added  parks/2
#      added  parks/3
#      added  parks/1
# 3 total.
</pre></div>
</div>
<p>There were 3 features in the imported shapefile, and now they are in the working tree. They are still unversioned and they have to be added to the staging area before they can be committed from there into the repository database, creating a new snapshot of the repository data.</p>
</div>


      <div class="selfclear pagination-nav">
          <div class="leftwise"><strong>Previous</strong>: <a href="history.html" title="previous chapter">Exploring your history</a></div>
          <div class="rightwise"><strong>Next</strong>: <a href="patches.html" title="next chapter">Creating and applying patches</a></div>
      </div>
      <p class="centered-text"><a href="#top"><img src="../_static/arrow_up.png" alt="back to top"/></a></p>
      </div><!-- /#content> -->
  <div id="sidebar" class="sidebar-offcanvas contrast col-sm-4 sidebar-offcanvas" id="sidebar" role="navigation">

    <div>
         <form id="quick-search" action="search.html" method="get" style="width: 100%;">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
          </fieldset>
        </form>


        <div class="btn-group-vertical" id="docs_toc">
          <a class="btn btn-default" href="/docs/">User Manual</a>
          <a class="btn btn-default" href="/technical/">Technical Manual</a>
          <a class="btn btn-default" href="/manpages/">Man Pages</a>
          <a class="btn btn-default" href="/workshop/">Workshop</a>
          <a class="btn btn-default" href="/upgrade/">Upgrading</a>
      </div>
        <div class="section continue_reading">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="history.html" title="previous chapter">Exploring your history</a></li>
            <li>Next: <a href="patches.html" title="next chapter">Creating and applying patches</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="../_sources/data/import.rst.txt">Show Source</a></li>
        </ul>
        </div>
        <div class="section">
          <h3>License</h3>
          <p>GeoGig is published using the <a href="https://github.com/locationtech/geogig/blob/master/LICENSE.txt">Eclipse Distribution License</a> (EDL). This is an open source initiative approved BSD-3 Clause license.</p>
          
          <p>This documentation is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. Page template includes work by the JQuery Foundation (<a href="https://github.com/jquery/jquery/blob/master/LICENSE.txt">MIT License</a>).</p>
        </div>

  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div>
</div>

</div><!-- /#main -->
    <footer>
      <div class="container">
        <div class="row">
          <div class=""><p class="repo-owner"><a href="https://github.com/locationtech/geogig">GeoGig</a> available on LocationTech. Website maintained by <a href="https://github.com/boundlessgeo"><img src="../_static/Boundless_Logo.png" alt="Boundless"></a></p></div>
        </div>
      </div>
    </footer>


  <script type="text/javascript" src="../_static/jquery.js"></script>
  <script type="text/javascript" src="../_static/jquery-migrate-min.js"></script>
  <script type="text/javascript" src="../_static/bootstrap.min.js" ></script>
  <script type="text/javascript" src="../_static/underscore.js"></script>
  <script type="text/javascript" src="../_static/doctools.js"></script>
  <script type="text/javascript" src="../_static/searchtools.js"></script>
  <script type="text/javascript" src="../searchindex.js"></script>
  <script>
      $(document).ready(function() {

      $('[data-toggle=offcanvas]').click(function(e) {
        e.stopPropagation();
        $('.row-offcanvas').toggleClass('active');
        $('.btn-back').toggleClass('active');
        $('.btn-text').toggleClass('active');
      });
      $('.list-group-item').click(function(e) {
        e.stopPropagation();
        $('.row-offcanvas').toggleClass('active');
        $('.btn-back').toggleClass('active');
        $('.btn-text').toggleClass('active');
      });
    });
  </script>
  <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-3879903-19']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
  </script>
  </body>
</html>
